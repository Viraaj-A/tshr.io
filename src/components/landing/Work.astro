---
import Highlights from "@/components/work/Highlights.astro";
const allwork = await getCollection("work");
import { getCollection } from "astro:content";
---

<section class="overflow-hidden relative">
  <div class="bg-white 2xl:max-w-7xl mx-auto">
    <div class="px-8 py-2 mx-auto max-w-6xl md:px-16">
      <div class="grid items-end gap-4 lg:grid-cols-3">
        <div class="lg:col-span-2">
          <div class="relative max-w-xs">
            <div
              class="absolute inset-0 flex items-center"
              aria-hidden="true">
              <div class="w-full border-t border-green-300"></div>
            </div>
            <div class="relative flex justify-start">
              <span class="font-furore bg-white pr-2 text-sm text-green-500 font-medium"
                >Work</span
              >
            </div>
          </div>
          <h1
            class="text-4xl tracking-tight font-display text-green-800 lg:text-5xl mt-12 text-balance">
            Our most recent projects
          </h1>
        </div>
        <a
          href="/work/home"
          class="relative group overflow-hidden rounded-md h-12 px-4 bg-green-200  duration-300">
          <div
            aria-hidden="true"
            class="transition duration-300 group-hover:-translate-y-12 text-green-700 font-medium">
            <div class="h-12 flex items-center">
              <span>See all of our work</span>
            </div>
          </div>
        </a>
      </div>
      <!-- Marquee Container -->
      <div class="overflow-hidden group mt-12">
        <div class="flex space-x-16 animate-marquee group-hover:[animation-play-state:paused]" style="animation-duration: 20s;">
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }
          {
            allwork.map((post) => (
              <Highlights
                url={"/work/" + post.slug}
                work={post.data.work}
                company={post.data.project}
                thumbnail={post.data.thumbnail.url}
              />
            ))
          }          
        </div>
      </div>
    </div>
  </div>
</section>
